/* ═══════════════════════════════════════════
   SYNCY v7 · ABYSS Design Language
   Syne (800) · DM Sans · DM Mono
   Obsidian + Amber-Crimson palette
   Hand-crafted, zero generic AI patterns
   ═══════════════════════════════════════════ */

:root {
  /* Backgrounds — layered obsidian */
  --bg0: #06060e;
  --bg1: #08080f;
  --bg2: #0c0c1a;
  --bg3: #101020;
  --sur: #141428;
  --su2: #1a1a32;
  --su3: #20203c;
  --brd: #1e1e38;
  --br2: #282848;
  --br3: #323258;

  /* Amber accent — warm, not purple */
  --a1: #78350f; --a2: #92400e; --a3: #b45309;
  --a4: #d97706; --a5: #f59e0b; --a6: #fbbf24;
  --a7: #fcd34d;

  /* Crimson counter-accent */
  --r1: #7f1d1d; --r2: #991b1b; --r3: #b91c1c;
  --r4: #dc2626; --r5: #ef4444; --r6: #f87171;

  /* Violet hint for rooms/live */
  --v1: #2e1065; --v2: #4c1d95; --v3: #6d28d9;
  --v4: #7c3aed; --v5: #8b5cf6; --v6: #a78bfa;

  /* Greens/signals */
  --g:  #10b981; --sky: #38bdf8;

  /* Text hierarchy */
  --t1: #f5f0e8; --t2: #b8a98a; --t3: #6b5e45; --t4: #2c2418;

  /* Glow */
  --ga:  rgba(245,158,11,.4);
  --gas: rgba(245,158,11,.12);
  --gr:  rgba(220,38,38,.35);

  /* Fonts */
  --fn: 'Syne', sans-serif;
  --fb: 'DM Sans', sans-serif;
  --fm: 'DM Mono', monospace;

  /* Radii */
  --r-s: 8px; --r-m: 14px; --r-l: 22px; --r-xl: 32px;

  /* Layout */
  --nav-h: 68px;
  --hdr-h: 52px;
  --sb: env(safe-area-inset-bottom, 0px);
  --st: env(safe-area-inset-top, 0px);
}

*,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }

html { height:100%; -webkit-text-size-adjust:100%; scroll-behavior:smooth; }

body {
  height:100%;
  background:var(--bg0);
  color:var(--t1);
  font-family:var(--fb);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
  padding-top:var(--st);
  /* Subtle grain texture overlay */
  position:relative;
}

body::after {
  content:'';
  position:fixed; inset:0;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  background-size:200px;
  pointer-events:none; z-index:9999; opacity:0.6;
}

#app { height:100%; display:flex; flex-direction:column; overflow:hidden; }

/* Scrollbars */
::-webkit-scrollbar { width:2px; }
::-webkit-scrollbar-thumb { background:var(--br2); border-radius:1px; }

/* Resets */
button { font-family:var(--fb); cursor:pointer; border:none; background:none; }
a { color:inherit; text-decoration:none; }
input,textarea { font-family:var(--fb); }
img { display:block; }

/* ──────────────────────────────────────────
   TYPOGRAPHY UTILITIES
   ────────────────────────────────────────── */
.display { font-family:var(--fn); }
.mono { font-family:var(--fm); }
.label {
  font-size:10px; font-weight:600; letter-spacing:.14em;
  text-transform:uppercase; color:var(--t3); font-family:var(--fm);
}

/* ──────────────────────────────────────────
   BUTTONS
   ────────────────────────────────────────── */
.btn-primary {
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:12px 22px; border-radius:var(--r-m); font-family:var(--fn);
  font-size:13px; font-weight:700; letter-spacing:.06em; color:#000;
  background:linear-gradient(135deg, var(--a5) 0%, var(--a6) 50%, var(--a5) 100%);
  background-size:200% 100%;
  box-shadow: 0 0 0 1px rgba(245,158,11,.3), 0 4px 20px rgba(245,158,11,.25);
  transition:all .22s cubic-bezier(.16,1,.3,1);
  animation:ambientShift 6s ease-in-out infinite;
  position:relative; overflow:hidden;
}
.btn-primary::before {
  content:''; position:absolute; inset:0;
  background:linear-gradient(to bottom, rgba(255,255,255,.15) 0%, transparent 100%);
  pointer-events:none;
}
.btn-primary:hover { transform:translateY(-2px); box-shadow:0 0 0 1px rgba(245,158,11,.5), 0 8px 32px rgba(245,158,11,.4); }
.btn-primary:active { transform:scale(.97); }
.btn-primary:disabled { opacity:.4; cursor:not-allowed; transform:none; }

.btn-ghost {
  display:inline-flex; align-items:center; justify-content:center; gap:7px;
  padding:10px 18px; border-radius:var(--r-m); font-size:13px; font-weight:500;
  border:1px solid var(--br2); color:var(--t2); transition:all .15s;
}
.btn-ghost:hover { border-color:var(--a4); color:var(--t1); background:var(--gas); }

/* ──────────────────────────────────────────
   INPUTS
   ────────────────────────────────────────── */
.inp {
  width:100%; background:var(--sur); border:1px solid var(--brd);
  border-radius:var(--r-s); padding:11px 14px; color:var(--t1);
  font-size:14px; outline:none; transition:border-color .18s, box-shadow .18s;
}
.inp::placeholder { color:var(--t4); }
.inp:focus { border-color:var(--a4); box-shadow:0 0 0 3px var(--gas); }

/* ──────────────────────────────────────────
   ICON BUTTON
   ────────────────────────────────────────── */
.ibtn {
  width:32px; height:32px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  color:var(--t3); flex-shrink:0; transition:all .12s;
}
.ibtn:hover { color:var(--t1); background:var(--su2); transform:scale(1.08); }
.ibtn.liked  { color:var(--r5); }
.ibtn.saved  { color:var(--g); }
.ibtn.active { color:var(--a5); }

/* ──────────────────────────────────────────
   SONG ROW — THE KEY COMPONENT
   ────────────────────────────────────────── */
.song-row {
  display:flex; align-items:center; gap:10px;
  padding:7px 8px; border-radius:var(--r-s);
  cursor:pointer; transition:background .1s; position:relative;
}
.song-row:hover { background:var(--sur); }
.song-row.active { background:rgba(245,158,11,.07); }
.song-row.active::before {
  content:''; position:absolute; left:0; top:18%; bottom:18%;
  width:2px; background:linear-gradient(to bottom, var(--a5), var(--r4));
  border-radius:0 2px 2px 0;
}

.s-thumb {
  width:44px; height:44px; border-radius:10px; flex-shrink:0;
  background:var(--su2); display:flex; align-items:center; justify-content:center;
  overflow:hidden; object-fit:cover;
}

.s-meta { flex:1; min-width:0; }

/* CRITICAL: 2-line clamp so titles are always readable on mobile */
.s-title {
  font-size:13.5px; font-weight:500; color:var(--t1); line-height:1.38;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}
.s-title.on { color:var(--a6); }

.s-artist {
  font-size:11.5px; color:var(--t2); margin-top:2px;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

.s-dur { font-family:var(--fm); font-size:10.5px; color:var(--t3); flex-shrink:0; }

.src-pill {
  display:inline-flex; font-size:8px; font-weight:700; padding:2px 5px;
  border-radius:4px; letter-spacing:.05em; text-transform:uppercase;
  margin-left:5px; vertical-align:middle; font-family:var(--fm);
}
.src-pill.jiosaavn { background:rgba(251,113,133,.1); color:#fda4af; }
.src-pill.jamendo  { background:rgba(56,189,248,.08); color:#7dd3fc; }

/* ──────────────────────────────────────────
   PLAYER CONTROLS
   ────────────────────────────────────────── */
.ctrl-play {
  width:58px; height:58px; border-radius:50%; flex-shrink:0;
  display:flex; align-items:center; justify-content:center; color:#000;
  background:linear-gradient(135deg, var(--a5) 0%, var(--a6) 100%);
  box-shadow:0 0 0 1px rgba(245,158,11,.4), 0 6px 28px rgba(245,158,11,.4);
  transition:all .22s cubic-bezier(.16,1,.3,1);
}
.ctrl-play:hover { transform:scale(1.07); box-shadow:0 0 0 1px rgba(245,158,11,.6), 0 10px 40px rgba(245,158,11,.55); }
.ctrl-play:active { transform:scale(.94); }
.ctrl-play:disabled { opacity:.3; cursor:not-allowed; transform:none; }
.ctrl-play.sm { width:38px; height:38px; box-shadow:0 0 0 1px rgba(245,158,11,.3), 0 3px 12px rgba(245,158,11,.3); }

.ctrl-btn {
  background:none; border:none; cursor:pointer; color:var(--t2);
  display:flex; align-items:center; justify-content:center;
  padding:8px; border-radius:50%; transition:all .13s;
}
.ctrl-btn:hover { color:var(--t1); background:var(--su2); }
.ctrl-btn.on { color:var(--a5); }
.ctrl-btn:disabled { opacity:.3; cursor:not-allowed; }

/* ──────────────────────────────────────────
   RANGE SLIDER — Custom amber style
   ────────────────────────────────────────── */
input[type=range] {
  -webkit-appearance:none; appearance:none;
  background:transparent; cursor:pointer; width:100%;
}
input[type=range]::-webkit-slider-runnable-track {
  height:3px; border-radius:2px;
  background:linear-gradient(to right,var(--a5) var(--pct,0%),var(--su3) var(--pct,0%));
}
input[type=range]::-webkit-slider-thumb {
  -webkit-appearance:none;
  width:14px; height:14px; border-radius:50%;
  background:var(--a6); margin-top:-5.5px;
  box-shadow:0 0 10px var(--ga); opacity:0;
  transition:opacity .12s;
}
input[type=range]:hover::-webkit-slider-thumb { opacity:1; }
input[type=range]::-moz-range-track { height:3px; border-radius:2px; background:var(--su3); }
input[type=range]::-moz-range-progress { background:var(--a5); }

/* ──────────────────────────────────────────
   EQ BARS
   ────────────────────────────────────────── */
.eq { display:flex; align-items:flex-end; gap:2px; height:14px; }
.eq-bar {
  width:3px; border-radius:2px;
  background:linear-gradient(to top, var(--a5), var(--r4));
  animation:eqPulse var(--d,.42s) var(--delay,0s) ease-in-out infinite alternate;
}
@keyframes eqPulse { from{height:2px;opacity:.4} to{height:12px;opacity:1} }

/* ──────────────────────────────────────────
   SKELETON
   ────────────────────────────────────────── */
.skel {
  background:linear-gradient(90deg, var(--sur) 25%, var(--su2) 50%, var(--sur) 75%);
  background-size:200% 100%;
  animation:shimmer 1.6s ease-in-out infinite;
  border-radius:var(--r-s);
}
@keyframes shimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

/* ──────────────────────────────────────────
   PILLS / TABS
   ────────────────────────────────────────── */
.pills { display:flex; background:var(--sur); border-radius:100px; padding:3px; gap:2px; }
.pill {
  flex:1; padding:6px 12px; border-radius:100px; font-family:var(--fb);
  font-size:12.5px; font-weight:500; color:var(--t3); cursor:pointer;
  transition:all .15s; white-space:nowrap;
}
.pill.on { background:var(--bg2); color:var(--t1); box-shadow:0 1px 6px rgba(0,0,0,.5); }

/* ──────────────────────────────────────────
   TOAST
   ────────────────────────────────────────── */
.toast {
  position:fixed; bottom:calc(var(--nav-h) + var(--sb) + 14px); left:50%;
  transform:translateX(-50%); background:var(--su3);
  border:1px solid var(--br3); border-radius:100px;
  padding:8px 18px; font-size:12.5px; font-weight:500; font-family:var(--fb);
  white-space:nowrap; z-index:10000; pointer-events:none;
  box-shadow:0 4px 20px rgba(0,0,0,.5);
}

/* ──────────────────────────────────────────
   BOTTOM NAV
   ────────────────────────────────────────── */
.bnav {
  height:var(--nav-h); flex-shrink:0; position:relative;
  background:rgba(6,6,14,.97); backdrop-filter:blur(40px) saturate(150%);
  border-top:1px solid var(--brd); display:flex;
  padding-bottom:var(--sb); z-index:100;
}
.bnav-btn {
  flex:1; display:flex; flex-direction:column; align-items:center;
  justify-content:center; gap:3px; color:var(--t3); font-size:9px;
  font-family:var(--fb); font-weight:600; letter-spacing:.04em;
  transition:color .14s; position:relative; padding:6px 0;
}
.bnav-btn.on { color:var(--a5); }
.bnav-indicator {
  position:absolute; top:0; height:1.5px;
  background:linear-gradient(90deg, var(--a4), var(--r4));
  border-radius:0 0 3px 3px;
  transition:left .3s cubic-bezier(.16,1,.3,1), width .3s cubic-bezier(.16,1,.3,1);
}
.bnav-badge {
  position:absolute; top:4px; right:calc(50% - 18px);
  background:var(--r4); color:#fff; border-radius:100px;
  font-size:7px; padding:1px 4px; font-weight:700; min-width:13px; text-align:center;
  font-family:var(--fm);
}

/* ──────────────────────────────────────────
   HEADER
   ────────────────────────────────────────── */
.hdr {
  height:var(--hdr-h); flex-shrink:0; display:flex; align-items:center;
  padding:0 16px; gap:10px; background:rgba(6,6,14,.96);
  backdrop-filter:blur(40px); border-bottom:1px solid var(--brd);
  position:relative; z-index:50;
}
.hdr::after {
  content:''; position:absolute; bottom:-1px; left:0; right:0; height:1px;
  background:linear-gradient(90deg, transparent, var(--a4) 40%, var(--r4) 60%, transparent);
  opacity:.2; animation:hdrFlow 10s linear infinite; background-size:300%;
}
@keyframes hdrFlow { 0%{background-position:0%} 100%{background-position:300%} }
.wordmark {
  font-family:var(--fn); font-size:16px; font-weight:800; letter-spacing:.22em;
  background:linear-gradient(135deg, var(--t1) 40%, var(--a6));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.hdr-sep { flex:1; }
.avatar {
  width:30px; height:30px; border-radius:50%; flex-shrink:0;
  background:linear-gradient(135deg, var(--a3), var(--r3));
  display:flex; align-items:center; justify-content:center;
  font-family:var(--fn); font-size:12px; font-weight:800; color:#fff;
}
.live-chip {
  display:flex; align-items:center; gap:4px; padding:3px 9px;
  border-radius:100px; background:rgba(220,38,38,.08);
  border:1px solid rgba(220,38,38,.2); font-family:var(--fm);
  font-size:8.5px; color:var(--r5); letter-spacing:.1em;
}
.live-dot { width:5px; height:5px; border-radius:50%; background:var(--r5); animation:livepulse 1.2s ease-in-out infinite; }
@keyframes livepulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.2;transform:scale(.5)} }

/* ──────────────────────────────────────────
   MINI PLAYER
   ────────────────────────────────────────── */
.mini-player {
  position:relative; overflow:hidden; flex-shrink:0;
  background:rgba(8,8,15,.98); backdrop-filter:blur(24px);
  border:1px solid var(--br2); border-radius:14px;
  margin:0 8px 8px; padding:9px 12px;
  display:flex; align-items:center; gap:10px;
  box-shadow:0 -2px 20px rgba(0,0,0,.3);
}
.mp-bar { position:absolute; bottom:0; left:0; right:0; height:2px; background:var(--su3); }
.mp-fill { height:100%; background:linear-gradient(90deg,var(--a4),var(--r4)); transition:width .5s linear; }

/* ──────────────────────────────────────────
   MODAL / OVERLAY
   ────────────────────────────────────────── */
.overlay {
  position:fixed; inset:0; background:rgba(0,0,0,.85);
  backdrop-filter:blur(20px); display:flex; align-items:center;
  justify-content:center; padding:20px; z-index:1000;
}
.modal {
  background:var(--bg2); border:1px solid var(--br2); border-radius:var(--r-l);
  padding:28px; width:100%; max-width:400px; position:relative; overflow:hidden;
}
.modal::before {
  content:''; position:absolute; top:0; left:0; right:0; height:1px;
  background:linear-gradient(90deg, transparent, var(--a4), var(--r4), transparent);
}

/* ──────────────────────────────────────────
   SPINNER
   ────────────────────────────────────────── */
.spinner {
  display:inline-block; width:18px; height:18px;
  border:2px solid rgba(245,158,11,.15); border-top-color:var(--a5);
  border-radius:50%; animation:spin .7s linear infinite;
}
@keyframes spin { to{transform:rotate(360deg)} }

/* ──────────────────────────────────────────
   GLOBAL ANIMATIONS
   ────────────────────────────────────────── */
@keyframes ambientShift { 0%,100%{background-position:0% 50%} 50%{background-position:100% 50%} }
@keyframes fadeUp  { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:none} }
@keyframes scaleIn { from{opacity:0;transform:scale(.92)} to{opacity:1;transform:scale(1)} }
@keyframes floatY  { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }
@keyframes discSpin { to{transform:rotate(360deg)} }
@keyframes letterIn { from{opacity:0;transform:translateY(22px) scale(.8)} to{opacity:1;transform:none} }

/* ──────────────────────────────────────────
   AUTH STYLES
   ────────────────────────────────────────── */
.auth-shell {
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  overflow:hidden; background:var(--bg0);
}
.auth-center {
  position:relative; z-index:1;
  display:flex; flex-direction:column; align-items:center; gap:18px;
  padding:20px; width:100%; max-width:380px;
}
.auth-card {
  width:100%; background:rgba(10,10,20,.95); backdrop-filter:blur(40px);
  border:1px solid var(--brd); border-radius:var(--r-l); padding:30px;
  position:relative; overflow:hidden;
}
.auth-card::before {
  content:''; position:absolute; top:0; left:0; right:0; height:1px;
  background:linear-gradient(90deg, transparent, var(--a4), var(--r4), transparent);
}
.auth-label {
  display:block; font-family:var(--fm); font-size:10px; font-weight:600;
  color:var(--t3); letter-spacing:.14em; text-transform:uppercase; margin-bottom:6px;
}
.auth-err {
  padding:9px 13px; background:rgba(220,38,38,.07);
  border:1px solid rgba(220,38,38,.2); border-radius:var(--r-s);
  font-size:12.5px; color:var(--r6);
}
.auth-submit {
  width:100%; padding:13px; border-radius:var(--r-s);
  font-family:var(--fn); font-size:14px; font-weight:700; letter-spacing:.05em;
  color:#000; background:linear-gradient(135deg, var(--a5), var(--a6), var(--a5));
  background-size:200%; animation:ambientShift 5s ease-in-out infinite;
  box-shadow:0 4px 24px rgba(245,158,11,.35);
  transition:all .2s cubic-bezier(.16,1,.3,1);
}
.auth-submit:hover:not(:disabled) { transform:translateY(-2px); box-shadow:0 8px 36px rgba(245,158,11,.55); }
.auth-submit:disabled { opacity:.45; cursor:not-allowed; }

/* Search bar */
.srch { position:relative; }
.srch-inp {
  width:100%; background:var(--sur); border:1px solid var(--brd);
  border-radius:100px; padding:10px 40px; color:var(--t1);
  font-size:13.5px; outline:none; transition:border-color .18s, box-shadow .18s;
}
.srch-inp::placeholder { color:var(--t3); }
.srch-inp:focus { border-color:var(--a4); box-shadow:0 0 0 3px var(--gas); background:var(--bg3); }
.srch-ic  { position:absolute; left:13px; top:50%; transform:translateY(-50%); color:var(--t3); pointer-events:none; display:flex; }
.srch-clr { position:absolute; right:12px; top:50%; transform:translateY(-50%); color:var(--t3); display:flex; }
.srch-clr:hover { color:var(--t1); }

/* Panels */
.panel { background:var(--bg2); border:1px solid var(--brd); border-radius:var(--r-m); display:flex; flex-direction:column; overflow:hidden; }
.panel-hdr { padding:11px 14px; border-bottom:1px solid var(--brd); display:flex; align-items:center; gap:8px; flex-shrink:0; }
.panel-title { font-family:var(--fn); font-size:13px; font-weight:700; flex:1; }

/* Hdr button */
.hdr-btn {
  display:flex; align-items:center; gap:5px; padding:5px 12px;
  border-radius:100px; background:var(--sur); border:1px solid var(--brd);
  color:var(--t2); font-size:12px; transition:all .15s;
}
.hdr-btn:hover { border-color:var(--a4); color:var(--t1); }

